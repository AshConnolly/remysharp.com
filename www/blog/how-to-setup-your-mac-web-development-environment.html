<!DOCTYPE html PUBLIC "Uncompressed source: https://github.com/remy/remysharp.com"><html id="remysharp-com"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How to setup your Mac web development environment</title><meta name="description" content="How to setup your Mac web development environment"/><meta name="HandheldFriendly" content="True"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="stylesheet" type="text/css" href="/css/screen.css?2.19"/><link rel="stylesheet" type="text/css" href="/css/zenburn.css?2.19"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://feeds.feedburner.com/remysharp"/><link rel="alternate" type="text/xml" title="RSS .92" href="http://feeds.feedburner.com/remysharp"/><link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://feeds.feedburner.com/remysharp"/><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1656750-1', 'auto');
ga('send', 'pageview');</script></head><body id="blog-how-to-setup-your-mac-web-development-environment-page"><nav class="main-nav clearfix subpanel"><ul class="post-nav"><li class="home"><a href="/">Home</a></li><li class="next"><a href="/2007/01/08/will-apples-os-x-be-stopping-at-106" title="Will Apple's OS X be stopping at 10.6?">Next</a></li><li class="prev"><a href="/2006/12/31/what-would-cause-ie-not-to-display-any-css" title="What would cause IE not to display any CSS?">Previous</a></li></ul></nav><main role="main" class="content"><article class="post"><h1 class="title"><a href="/2007/01/06/how-to-setup-your-mac-web-development-environment" rel="bookmark" title="Permanent Link: How to setup your Mac web development environment">How to setup your Mac web development environment</a></h1><small class="edit"><a href="https://github.com/remy/remysharp.com/blob/master/public/blog/how-to-setup-your-mac-web-development-environment.md">(edit)</a></small><div class="post-content">
<p>Following <a href="http://remysharp.com/2006/12/14/the-delicate-apple/">my accident</a> a couple of weeks ago, I&#39;ve now been blessed with a <a href="http://www.flickr.com/photos/remysharp/tags/macbookpro">new MacBook Pro</a> which needs setting up again.</p>
<p>So, I thought I&#39;d document setting up MySQL, PHP5 and Apache with multiple virtual hosts.</p>
<!--more-->

<h2>Tasks</h2>
<ol>
<li><a href="#install_php">Install PHP5</a></li>
<li><a href="#install_mysql">Install MySQL</a></li>
<li><a href="#configure_mysql">Configure MySQL</a></li>
<li><a href="#configure_apache">Configure Apache with virtual hosts</a></li>
</ol>
<h2>Notes</h2>
<ul>
<li>I&#39;m not upgrading Apache to version 2 - I don&#39;t see the point since 1.3x is perfectly good.</li>
<li>I prefer to use PHP5 because I started making more use of the XML functions (though I&#39;ve never coded in PHP4, I&#39;ve been told to watch out for the &#39;&lt;? ?&gt;&#39; vs. &#39;&lt;?php ?&gt;&#39;).</li>
<li>I am assuming you can open Terminal and can cut and paste.</li>
</ul>
<h2>Quick Disclaimer</h2>
<p>I&#39;m going to document <em>my</em> installation.  Make sure you backup where ever necessary, and please don&#39;t blame me if it all goes to hell.  Don&#39;t get me wrong, if you drop a comment, I&#39;ll be more than happy to help where I can, but backup, backup and <abbr title="Read the Frickin' Manual">RTFM</abbr>.</p>
<h2>Step 1 - installations</h2>
<h3 id="install_php">PHP</h3>

<p>Download PHP5 from <a href="http://www.entropy.ch/software/macosx/php/">Marc Liyanage&#39;s PHP web site</a> and follow the <a href="http://www.entropy.ch/software/macosx/php/#install">simple install</a> instructions.</p>
<p>Note that Marc explicitly states to <strong>NOT USE</strong> <a href="http://www.stuffit.com/">stuffit expander</a>, and rather use <a href="http://en.wikipedia.org/wiki/BOMArchiveHelper">Apple&#39;s BOMArchiveHelper</a> or the command line.</p>
<p>Via the command line (via Terminal or your preferred app), if the file is still compressed - i.e. ends with .gz:</p>
<pre><code>tar -zxvf entropy-php-5.x.tar.gz</code></pre>

<p>Or if it was uncompressed through Safari&#39;s download:</p>
<pre><code>tar -xvf entropy-php-5.x.tar</code></pre>

<p>Install the package that you just untarred, and test PHP5 is fully installed (following Marc&#39;s test.php instructions).</p>
<h3 id="install_mysql">MySQL</h3>

<p><a href="http://dev.mysql.com/downloads/">Download MySQL</a> - I&#39;m assuming since you&#39;re setting up a development environment on your Mac, you&#39;re a confident user - so I&#39;m choosing the <a href="http://dev.mysql.com/downloads/mysql/?rz=gdl#downloads">MySQL Community Server</a>.</p>
<p>Select the right <a href="http://dev.mysql.com/downloads/mysql/5.0.html#Mac_OS_X_(package_format)">Mac OS X MySQL installation</a> that suits your machine (Intel based machines are the x86 installs).  I chose to install the &#39;standard&#39; install because it suits my needs.</p>
<p>Note that you don&#39;t particularly have to put in the details on the download page, you can skip it.  I did because I&#39;ve filled it in before, and letting them know how you plan to use their product may actually contribute to a better MySQL.</p>
<p>Double click the MySQL package (rather than the startup packge), and install away.</p>
<p>If you want MySQL to start automatically, install the startup package that also came in the <a href="http://en.wikipedia.org/wiki/.dmg">.dmg</a>.</p>
<p>Note the following from the MySQL readme.txt:</p>
<blockquote>
<p>After the installation, you can start up MySQL by running the following
commands in a terminal window. You must have administrator privileges
to perform this task.</p>
<p>If you have installed the Startup Item, use this command:</p>
<pre><code>shell&gt; sudo /Library/StartupItems/MySQLCOM/MySQLCOM start
(ENTER YOUR PASSWORD, IF NECESSARY)
(PRESS CONTROL-D OR ENTER &quot;EXIT&quot; TO EXIT THE SHELL)</code></pre>
<p>If you don&#39;t use the Startup Item, enter the following command sequence:</p>
<pre><code>shell&gt; cd /usr/local/mysql
shell&gt; sudo ./bin/mysqld_safe
(ENTER YOUR PASSWORD, IF NECESSARY)
(PRESS CONTROL-Z)
shell&gt; bg
(PRESS CONTROL-D OR ENTER &quot;EXIT&quot; TO EXIT THE SHELL)</code></pre>
</blockquote>
<p>Give it a little test:</p>
<pre><code>$ /usr/local/mysql/bin/mysql
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| test               |
+--------------------+
2 rows in set (0.00 sec)</code></pre>

<h3>A quick break for some useless knowledge...</h3>
<p>I was once told by a MySQL engineer that MySQL was named after the creator&#39;s daughter (I say creator because it was in a pub and I can&#39;t remember who he said!), and being Swedish she was called &#39;My&#39;, pronounced: &#39;Mee&#39;.</p>
<p>So, MySQL, is supposed to be pronounced: Mee-S-Q-L.</p>
<p>Ah...back to work.</p>
<h2>Step 2 - configure</h2>
<h3 id="configure_mysql">MySQL</h3>

<p>Let&#39;s add MySQL to our path so we can just type &#39;mysql&#39; from the prompt.</p>
<p>Edit (or create) .profile (that&#39;s prefixed with a dot) in your home directory, and add the following line:</p>
<pre><code>export PATH=$PATH:/usr/local/mysql/bin</code></pre>

<p>If you&#39;re not sure, from the command line run this command (it will add the appropriate line):</p>
<pre><code>printf "\nexport PATH=\$PATH:/usr/local/mysql/bin" >> ~/.profile</code></pre>

<p>If you open a new Terminal session (or run &#39;source ~/.profile&#39;), you should now be able  to run MySQL from the prompt (i.e. just type &#39;mysql&#39;).</p>
<p>Note that if you want password protect the administration of mysql, you will need to enter the following command (here NEWPASSWORD is your own password):</p>
<pre><code>sudo mysqladmin password NEWPASSWORD</code></pre>

<p>I don&#39;t personally both, because it&#39;s an offline environment and secured on my laptop.</p>
<h3 id="configure_apache">Apache and multiple offline domains</h3>

<p>Personally, since I work on multiple websites, so I have to set up offline versions, such as: <a href="http://apple.**dev**">http://apple.**dev**</a> (<a href="http://remysharp.com/2006/09/08/dub-dub-dub-or-how-we-pronounce-the-world-wide-web/">why no www?</a>) (and then at a later date upload to the production web site...though thankfully not <a href="http://apple.com">apple.com</a>!)</p>
<h4>1. Set up directories</h4>
<p>In your home directory you will find a &#39;Sites&#39; folder.  </p>
<p>Create a new directory, in my case I&#39;m creating &#39;apple.dev&#39;.  Inside of that directory I am adding one further directory: htdocs.</p>
<p>I am also going to create a logs folder in /var/logs/httpd/ called apple.dev.  This is so I keep all my logs in a consistent directory (and I can use the console app to view them at a later date if I please).  You can do this from the command line using this command:</p>
<pre><code>sudo mkdir /var/logs/httpd/apple.dev</code></pre>

<p>Now I create a symbolic link to the logs directory (assuming I am in the /Users/USERNAME/Sites/apple.dev directory):</p>
<pre><code>ln -sf /var/logs/httpd/apple.dev logs</code></pre>

<p>My directory structure now looks like this:</p>
<pre><code>ls -ltr /Users/remy/Sites/apple.dev
total 8
drwxr-xr-x   2 remy  remy  68 Jan  6 15:04 htdocs
lrwxr-xr-x   1 remy  remy  24 Jan  6 15:05 logs -> /var/log/httpd/apple.dev</code></pre>

<h4>2. Add a host entry</h4>
<p>Edit /etc/hosts with your <a href="http://macromates.com">favourite text editor</a> and add the following (obviously replacing <em>apple.dev</em> with your own offline domain):</p>
<pre><code>127.0.0.1 apple.dev</code></pre>

<p><small>You can use TextEdit to make the changes, but you probably won&#39;t be able to navigate to the /etc/ directory.  In which case, press command + shift + g and enter &#39;/etc/&#39;, then you will be able to pick the file out to edit.</small></p>
<p>You&#39;ll be prompted for the password to change protected files, go ahead and stick it in.</p>
<p>Depending on whether your domain exists in the real world you may have to run the following command from Terminal (though it won&#39;t hurt if you run it regardless):</p>
<pre><code>lookupd -flushcache</code></pre>

<p>This will clear the DNS cache on your machine, meaning that the DNS lookup daemon process will re-read /etc/hosts for the domain in question.</p>
<h4>3. Add virtual host entry</h4>
<p>Again in your editor, you will need to edit /private/etc/httpd/users/${USER}.conf (in my case the file is called remy.conf).</p>
<p>In this file, add the following (changing USERNAME to your home directory username)</p>
<pre><code>NameVirtualHost *:80
&lt;VirtualHost *:80&gt;
  DocumentRoot /Users/USERNAME/Sites/apple.dev/htdocs
  ServerName apple.dev
  ErrorLog /Users/USERNAME/Sites/apple.dev/logs/error_log
  CustomLog /Users/USERNAME/Sites/apple.dev/logs/access_log common
&lt;/VirtualHost&gt;</code></pre>

<p><small>Note that if you add further domains, you only need the line &#39;NameVirtualHost *:80&#39; once.</small></p>
<h4>4. Restart Apache and test</h4>
<p>Now everything is place, we should be able to restart and test.  First things first, test our config changes:</p>
<pre><code>sudo /usr/sbin/apachectl configtest</code></pre>

<p>This should say everything is fine.  Now for a restart.</p>
<pre><code>sudo /usr/sbin/apachectl restart</code></pre>

<p><small>If this doesn&#39;t work, do a &#39;apachectl stop&#39;, then &#39;apachectl start&#39;.</small></p>
<p>Now in your browser go to your offline dev web site, in my case: <a href="http://apple.dev">http://apple.dev</a>.  You should see an empty directory.</p>
<p>Drop in a <a href="/uploads/2007/01/index.html">dummy index file</a> to truly test the pages are being served up.  You should find you have no problems (well...I didn&#39;t!).</p>
<h2>Finishing up</h2>
<p>So, there you have it.  You should now have a multi-domain offline development environment.  </p>
<p>You can start putting PHP files in the htdocs directory and connecting MySQL and all that jazz.  </p>
<p>Please let me know if there were any glaring errors or if you found this tutorial super useful!</p>
<p class="follow">You should follow me on Twitter <a href="http://twitter.com/rem">here</a> <span class="note">I'll tweet about JavaScript, HTML5 and other such gems (amongst usual tweet-splurges)</span></p></div><div class="comments"><h2>Comments</h2><div id="disqus_thread"></div><script>var disqus_shortname = 'remysharp';
var disqus_url = 'http://remysharp.com/2007/01/06/how-to-setup-your-mac-web-development-environment/';
var disqus_title = 'How to setup your Mac web development environment';</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></a></div></article></main><footer class="site-footer clearfix flex subpanel"><div class="flex-item archives"><h2>Archives</h2><ul><li><a href="/archive">All years</a></li><li><a href="/2015">2015</a></li><li><a href="/2014">2014</a></li><li><a href="/2013">2013</a></li><li><a href="/2012">2012</a></li><li><a href="/2011">2011</a></li><li><a href="/2010">2010</a></li><li><a href="/2009">2009</a></li><li><a href="/2008">2008</a></li><li><a href="/2007">2007</a></li><li><a href="/2006">2006</a></li></ul></div><div class="flex-item links"><h2>Links</h2><ul><li><a href="/about">About Remy</a></li><li><a target="_blank" href="/feed.xml">RSS feed</a></li><li><a target="_blank" href="https://github.com/remy">On GitHub</a></li><li><a target="_blank" href="https://twitter.com/rem">On Twitter</a></li><li><a target="_blank" href="http://lanyrd.com/profile/rem/past/speaking/">Presentations</a></li></ul></div><div class="flex-item license"><h2>License</h2><p class="vcard">All content by <a class="url fn" href="http://remysharp.com">Remy Sharp</a> and under <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/uk/">creative commons</a> and code under <a href="http://rem.mit-license.org">MIT license</a>.</p><p>All code and content for this blog is available as <a href="https://github.com/remy/remysharp.com">open source on GitHub</a>.</p>
</div></footer><script src="//code.jquery.com/jquery-1.11.1.min.js"></script><script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script><script src="/js/jquery.fitvids.js"></script><script src="/js/highlight.min.js"></script><script src="/js/permalink.js?2.19"></script><script src="/js/index.js?2.19"></script><!--  
  
 Carved up by hand using Harp and a shit load of hacking.
  
  Also, this:
  
  
  
                       \_            /;              _.._
                       `\~--.._     //'            ,(+=\\\\
                        `//////\  \\/;'             /~ (\\\\
                          ~/////\~\`)'             /;   ))))
                              `~'  |              ((`~/((((\
                              ;'_\'\             /'))   )))))
                             /~/ '" "'     _.  /'/\_ /^\`((( \
                            `\/'       _.-~/--/ (  =(   | ,  |
                                    _/~\_)_}___/^\/~`\.__\|==|
                                   /uUUU)        )        |  |
                                  (   / |      _-=o|\__ /'/~ \
                                  ' /'  |     /(((((\`\(  |~\/
                                  /'    |   /' )))))"`\`\|/_/---.._,$$,
                            .,ssS$$$Sss|._/_..-((('    )\)>>>      ~\$
                         ,sS$$$$$$$$$$$|$$$$$$$  |/    //'~`o        `\
                       ,$$$$$$$$$$$$$$|$$S$$$$'  (    /                \
                     ,$$$$$$$$$$$$S$$|$$$$$$$'   |   /              ,s$$$
                   s$$$$$S$$$$$$$$$S|$$$$$$$$    |  /              $$$$$$
                 _~,$S""''     ``"S|$$S$$$$$"    (_,`\,          ,$$$$$$$;
               /~ ,"'             / 'S$$$$$"      \_./|        s$$$$$$$$$$
            (~'      _,  \==~~)  /     """         \  |       $$$$$$$$$$$$
             (0\   /0/     \-' /'                   \ |  |  ,$$$$$$$$$$$$$,
             `/'  '         _-~                     |= \_-\ $$$$$$$$$$$$$$s
             (~~~)      _.-~_-   \             \  ,s|= |   `"$$$$$$$$$$$$$$$
            ( `-'  )/>-~  _/-__   |            |,$$$|_/,      `"$$$$$$$$$$$$
            /V^^^^V~/' _/~/~~  ~~-|            |$$$$$$$$         "$$$$$$$$$$,
           /  (^^^^),/' /'        )           /S$$$$$$$;         ,$$$$$$$$$$$,
         ,$$_  `~~~'.,/'         /     _-ss, /(/-(/-(/'        ,s$$$$$$$$$$$$$
       ,s$$$$$ssSS$$$'         ,$'.s$$$$$$$$'                  (/-(/-(/-(/-(/'
      S$$$$$$$$$$$$$$        ,$$$$$$$$$$$$$'
     (/-(/-(/-(/-(/'      _s$$$$$$$$$$$$$$
                         (/-(/-(/-(/-(/-'
  
  
  
     – Remy
  
  --><!-- Env: production - static files--></body></html>